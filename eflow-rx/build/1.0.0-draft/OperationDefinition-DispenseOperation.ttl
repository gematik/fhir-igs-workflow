@prefix fhir: <http://hl7.org/fhir/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

# - resource -------------------------------------------------------------------

<https://gematik.de/fhir/erp/OperationDefinition/DispenseOperation> a fhir:OperationDefinition ;
  fhir:nodeRole fhir:treeRoot ;
  fhir:id [ fhir:v "DispenseOperation"] ; # 
  fhir:text [
     fhir:status [ fhir:v "generated" ] ;
     fhir:div [ fhir:v "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p class=\"res-header-id\"><b>Generated Narrative: OperationDefinition DispenseOperation</b></p><a name=\"DispenseOperation\"> </a><a name=\"hcDispenseOperation\"> </a><p>URL: [base]/Task/[id]/$dispense</p><p>Input parameters Profile:<a href=\"StructureDefinition-eflow-rx-dispense-operation-input-parameters.html\">GEM ERP PR DispenseOperation Input</a></p><h3>Parameters</h3><table class=\"grid\"><tr><td><b>Use</b></td><td><b>Name</b></td><td><b>Scope</b></td><td><b>Cardinality</b></td><td><b>Type</b></td><td><b>Binding</b></td><td><b>Documentation</b></td></tr><tr><td>IN</td><td>secret</td><td/><td>1..1</td><td><a href=\"http://hl7.org/fhir/R4/datatypes.html#string\">string</a></td><td/><td><div><p>Der secret Parameter, der einer Apotheke den exklusiven Zugriff auf die Aufgabe als Teil der URL ermöglicht. Dieser Parameter muss dem Wert entsprechen, der in Task.identifier:Secret gespeichert ist. Andernfalls wird der Vorgang mit einem Fehler abgebrochen.</p>\n</div></td></tr><tr><td>IN</td><td>rxDispensation</td><td/><td>1..*</td><td/><td/><td><div><p>Informationen zu abgegebenen Medikament(en)</p>\n</div></td></tr><tr><td>IN</td><td>rxDispensation.medicationDispense</td><td/><td>1..1</td><td><a href=\"http://hl7.org/fhir/R4/medicationdispense.html\">MedicationDispense</a></td><td/><td/></tr><tr><td>IN</td><td>rxDispensation.medication</td><td/><td>1..1</td><td><a href=\"http://hl7.org/fhir/R4/medication.html\">Medication</a></td><td/><td/></tr></table></div>"^^rdf:XMLLiteral ]
  ] ; # 
  fhir:url [
     fhir:v "https://gematik.de/fhir/erp/OperationDefinition/DispenseOperation"^^xsd:anyURI ;
     fhir:l <https://gematik.de/fhir/erp/OperationDefinition/DispenseOperation>
  ] ; # 
  fhir:version [ fhir:v "1.0.0-draft"] ; # 
  fhir:name [ fhir:v "Dispense"] ; # 
  fhir:status [ fhir:v "draft"] ; # 
  fhir:kind [ fhir:v "operation"] ; # 
  fhir:date [ fhir:v "2025-12-15"^^xsd:date] ; # 
  fhir:publisher [ fhir:v "gematik GmbH"] ; # 
  fhir:contact ( [
     fhir:name [ fhir:v "gematik GmbH" ] ;
     fhir:telecom ( [
       fhir:system [ fhir:v "url" ] ;
       fhir:value [ fhir:v "https://gematik.de" ]
     ] [
       fhir:system [ fhir:v "email" ] ;
       fhir:value [ fhir:v "erp-umsetzung@gematik.de" ]
     ] )
  ] ) ; # 
  fhir:description [ fhir:v "Die Operation $dispense ermöglicht es der Apotheke, eine Ausgabe für ein Medikament durchzuführen, ohne den Status der Aufgabe zu ändern. Diese Aktion erlaubt es einem Frontend anzuzeigen, dass ein Medikament ausgegeben wurde, bevor es von der Apotheke abgeschlossen wird."] ; # 
  fhir:jurisdiction ( [
     fhir:coding ( [
       fhir:system [
         fhir:v "urn:iso:std:iso:3166"^^xsd:anyURI ;
         fhir:l <urn:iso:std:iso:3166>
       ] ;
       fhir:code [ fhir:v "DE" ] ;
       fhir:display [ fhir:v "Germany" ]
     ] )
  ] ) ; # 
  fhir:affectsState [ fhir:v true] ; # 
  fhir:code [ fhir:v "dispense"] ; # 
  fhir:resource ( [ fhir:v "Task"] ) ; # 
  fhir:system [ fhir:v false] ; # 
  fhir:type [ fhir:v false] ; # 
  fhir:instance [ fhir:v true] ; # 
  fhir:inputProfile [
     fhir:v "https://gematik.de/fhir/erp/StructureDefinition/eflow-rx-dispense-operation-input-parameters"^^xsd:anyURI ;
     fhir:l <https://gematik.de/fhir/erp/StructureDefinition/eflow-rx-dispense-operation-input-parameters>
  ] ; # 
  fhir:parameter ( [
     fhir:name [ fhir:v "secret" ] ;
     fhir:use [ fhir:v "in" ] ;
     fhir:min [ fhir:v 1 ] ;
     fhir:max [ fhir:v "1" ] ;
     fhir:documentation [ fhir:v "Der secret Parameter, der einer Apotheke den exklusiven Zugriff auf die Aufgabe als Teil der URL ermöglicht. Dieser Parameter muss dem Wert entsprechen, der in Task.identifier:Secret gespeichert ist. Andernfalls wird der Vorgang mit einem Fehler abgebrochen." ] ;
     fhir:type [ fhir:v "string" ]
  ] [
     fhir:name [ fhir:v "rxDispensation" ] ;
     fhir:use [ fhir:v "in" ] ;
     fhir:min [ fhir:v 1 ] ;
     fhir:max [ fhir:v "*" ] ;
     fhir:documentation [ fhir:v "Informationen zu abgegebenen Medikament(en)" ] ;
     fhir:part ( [
       fhir:name [ fhir:v "medicationDispense" ] ;
       fhir:use [ fhir:v "in" ] ;
       fhir:min [ fhir:v 1 ] ;
       fhir:max [ fhir:v "1" ] ;
       fhir:type [ fhir:v "MedicationDispense" ]
     ] [
       fhir:name [ fhir:v "medication" ] ;
       fhir:use [ fhir:v "in" ] ;
       fhir:min [ fhir:v 1 ] ;
       fhir:max [ fhir:v "1" ] ;
       fhir:type [ fhir:v "Medication" ]
     ] )
  ] ) . # 

# -------------------------------------------------------------------------------------

